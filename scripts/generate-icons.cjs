/**
 * @Author wei
 * @Date 2026-02-07
 * @Description 生成 Chrome 扩展所需的图标文件
 * 使用方法: node scripts/generate-icons.js
 **/

const fs = require('fs');
const path = require('path');

// 简单的蓝色圆形图标 (base64 编码的 PNG)
// 16x16 蓝色圆形图标
const icon16Base64 = 'iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAWVJREFUOI2lk71OwzAURr9bJQqIdZjJUBYWhgxdGHgD5jLCyMAjMFdMSIgBVl6B54BZgol/qVREqqoqNCaO4zgJSEe60r336/G1rwQgAyYAp8AUmAYMAUeADOA9X1/r+j7gGaABeAIOgB5wBHQAS4AZ0AIsAmaAMWAM+A7YAx4AR4BtoAvcAm6ABaAOWADOALvADmAL2AHuAJvAJrAF3ALuAE+BR8AjYAu4A9wBngCPgMfADWADeAS8AzwCngAPgAfAZWAF2AIuAk+BZ8B94D7wAHgMPAYeAQ+Bh8AT4DnwDHgCPAYeA4+AR8BD4CHwBHgOPAOeAI+Bx8Aj4CHwEHgCPAeeAU+Ax8Bj4BHwEHgIPAGeA8+AJ8Bj4DHwCHgIPASeAM+BZ8AT4DHwGHgEPAQeAk+A58Az4AnwGHgMPAIeAg+BJ8Bz4BnwBHgMPAYeAQ+Bh8AT4DnwDHgC/AM/A6/B7Q3ciwAAAABJRU5ErkJggg==';

// 48x48 蓝色圆形图标
const icon48Base64 = 'iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABHNCSVQICAgIfAhkiAAAAsNJREFUaIHtmU1u2zAQhT+5bmz0AO4u6M5dFch5hJyh567TI/gIvkDP4J1XBXIB1+3CrVMniqOIFDWkKNlANQiQ0Iz05s3wR5IB/vcIAfAW+Ax8BnaBr8BX4CvwBfgCfAE+A5+AT8An4BPwEfgIfAQ+AB+A98B74D3wDngHvAPeAm+Bt8Ab4A3wGngNvAZeAa+AV8BL4CXwEngBvABeAM+B58Bz4BnwDHgGPAWeAk+BJ8AT4DHwGHgMPAIeAY+Ah8BD4AHwAHgA3AfuA/eB+8A94B5wD7gL3AXuAneBO8Ad4A5wG7gN3AZuAbeAW8BN4CZwE7gB3ABuANeB68B14BpwDbgGXAWuAleBy8Bl4DJwCbgEXAIuAheBi8AF4AJwAbgAnAfOA+eB88A54BxwFjgLnAXOAGeBM8Bp4DRwGjgFnAJOAaeAk8BJ4ARwAjgBHAeOA8eB48Ax4BhwDDgKHAWOAkeAI8AR4DBwGDgMHAIOAYeAg8BB4CBwADgAHAD2A/uB/cA+YB+wF9gL7AX2AHuAPcBuYDewG9gF7AJ2ATuBncBOYAewA9gB7AB2ADuA7cB2YDuwDdgGbAW2AluBLcAWYAuwGdgMbAY2AZuATcAmYCOwEdgIbAA2ABuA9cB6YD2wDlgHrAXWAmuBNcAaYA2wGlgNrAZWAauAVcBKYCWwElgBrABWACuA5cByYDmwDFgGLAWWAkuBJcASYAmwGFgMLAYWAYuARcBCYCGwEFgALAAWAPOB+cB8YB4wD5gLzAXmAnOAOcAcYDYwG5gNzAJmAbOAmcBMYCYwA5gBzACmA9OB6cA0YBowFZgKTAWmAFOAKcBkYDIwGZgETAImAROBicBEYAIwAZgAjAfGAxOA8cA4YBwwFhgLjAXGAGOAMcBoYDQwGhgFjAJGASOBkcBIYAQwAhgBDJ+D3w7w1uMvAAAAAElFTkSuQmCC';

// 128x128 蓝色圆形图标
const icon128Base64 = 'iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAB8lJREFUeJztnVuIVVUYx3/jOF5GZ9Rx1ElNzfKSpiamRSheAqMH8aGoIIMi6CHoggR1gYgeekh6CIJ6iBB6CKIXoYuEmJWWqWmJl0zT0VHHy4xjjo7jaL9hnWX/Z52z117rfPe1vx/87L3X2vvs/1nf+r71rbXXEgQhDwwCngDuA94F3gHeAd4G3gLeAt4E3gDeAN4AXgdeB14DXgNeA14FXgVeAV4BXgFeAV4GXgZeAl4CXgJeBF4EXgReAF4AXgCeB54HngeeBZ4FngGeAZ4BngaeBp4GngKeAp4CngSeBJ4AngCeAB4HHgceB/4OPA78HXgMeAx4FHgUeAR4BHgEeBh4GHgYeAh4CHgIeBB4EHgQeAC4H7gfuB+4D7gPuBe4F7gXuAe4B7gHuBu4G7gbuAu4C7gLuBO4E7gTuAO4A7gDuB24HbgduA24DbgVuBW4FbgFuAW4BbgZuBm4GbgJuAm4CbgRuBG4EbgBuAG4AbgeuB64HvgjcB1wHfAH4A/A74HfA78Dfgf8FvgtcC3wW+Ba4DfAb4BfA78GfgX8CvglcA3wS+Aa4BfAL4BrgJ8DPwd+DlwN/By4GrgK+BlwFfAz4KfAT4GfAj8BfgL8BPgx8GPgx8CPgB8BPwJ+CPwQ+CHwA+AHwA+A7wPfB74PfA/4HvBd4LvAd4DvAN8G/h34NvBt4FvAt4BvAd8E/g34JvBN4BvAN4CvA18Hvg58Dfga8DXgq8BXga8AXwG+AnwZ+DLwZeBLwJeALwFfBL4IfBH4AvAF4AvA54HPAZ8DPgd8Fvgs8FngM8BngE8DnwY+BXwK+CTwSeATwCeAjwMfBz4OfAz4GPAo8CjwKPAR4CPAh4EPA48AHwYeBj4EfAj4IPBB4IPAB4APAB8AXg/8Drgf+ADwfuB9wPuA9wLvBd4LvAd4D/Bu4N3A3cC7gHcB7wLeCbwTeCdwB/AO4B3A7cDtwO3AbcBtwG3ArcCtwK3ALcAtwC3AzcDNwM3ATcBNwI3AjcCNwA3ADcD1wPXA9cB1wHXAtcC1wLXANcA1wDXA1cDVwNXAVcBVwFXAlcCVwJXAFcAVwBXA5cDlwOXAZcBlwKXApcClwCXAJcAlwMXAxcDFwEXARcBFwIXAhcCFwAXABcD5wPnA+cB5wHnAucC5wLnAOcA5wDnA2cDZwNnAWcBZwJnAmcCZwBnAGcAZwOnA6cDpwGnAacBpwKnAqcCpwCnAKcApwMnAycDJwEnAScBJwInAicCJwAnACcAJwPHA8cDxwHHAccBxwLHAscCxwDHAMcAxwNHA0cDRwFHA0cBRwJHAkcCRwBHAEcARwOHA4cDhwGHA4cBhwKHAocChwCHAIcAhwMHAwcDBwMHAQcBBwIHAgcCBwAHAAcD+wP7A/sB+wH7AvsC+wL7APsA+wN7A3sDewF7AXsDewJ7AnsAewB7AbsDuwO7AbsBuwK7ArsCuwC7AzsAuwA7A9sD2wPbAdsDWwPbAlsD2wBbAFsDmwObA5sCmwGbAZsDGwMbAxsCGwAbABsAGwPrA+sD6wHrAesCawJrAWsCawFrAGsAawOrA6sBqwGrAqsCqwKrAKsAqwMrAysDKwErASsBKwIrAisCKwArACsAKwPLA+sDywHLA8sCywLLAssCywDLAMsAywNLA0sDSwFLAUsBSwJLAksCSwBLAEsDiwOLA4sBiwGLAosCiwKLAIsAiwCLAwsDCwMLA4sAiwCLAwsAiwILAAsACwILAAsDAwPzA/MD8wHzAfMC8wLzAvMA8wDzAPMDcwNzA3MBcwFzAXMCcwJzAnMAcwBzA7MDswOzAbMBswGzALMAswCzAzMDMwMzATMBMwEzADMAMwPTA/MD0wHTAdMB0wLTAdMC0wLTAtMA0wDTANMDUwNTA1MBUwFTAVMCUwJTAlMAUwBTAFMDkwOTA5MAkwCTAJMAkwCTARMAkwMTARMDEwITAhMCEwATABMAEwPjA+MD4wHjAeMB4wHjAuMC4wLjAOMC4wDjAOMA4wNjA2MDYwFjAWMBYwFjAGMAYwBjAGMAYwOjA6MBowOjAaMDowGjAqMCowKjAqMCowCjAKMAowCjAKMAIwAjACMAIwAjAcMBwwHDAcMBwwDDAMMAwwDDAMMAQwBDAEMAQwBDAwMDAwMDAwMDAwIBAfyAnMCAoIDAg0D/IP9A/0C/QL9Av0C/IL8gvyC/IH8gfwB/AH8gfyAnACcgJyAncCcgZ1A30DfQL9AnMDcwNzAfMA8wDzAXMAcwB3AHcAewB7AbsBuwG7AbsBuwC7ALsAuwC7gLuAO4E7gTuBO4A7gduB24HbgNuBW4FbgVuAW4BbgZuBm4GbgJuAm4AbgRuBG4EbgOuB64DrgWuBa4BrgKuAq4CrgCuBy4HLgMuBS4FLgUuAS4BLgIuAi4CLgAuAC4ELgAuA84HzgfOB84FzgXOBc4FzgHOAc4CzgbOBs4GzgLOAs4AzgTOBM4EzgNOB04HTgdOA04BTgVOBU4BTgJOBk4GTgJOAE4ETgBOAE4DjgeOB44HjgOOA44BjgWOBY4FjgGOAY4CjgaOBo4GjgKOAo4AjgSOBI4EjgCOAI4DDgcOBw4HDgMOAw4BDgUOBQ4FDgEOAQ4GDgYOBg4CDgIOBA4EDgQOA/YH9gf2A/YB9gX2BfYF9gb2BvYG9gL2AvYA9gT2BPYA9gN2B3YHdgN2A3YBdgV2BXYC/Af/k/j0SnClgAAAAASUVORK5CYII=';

const iconsDir = path.join(__dirname, '..', 'public', 'icons');

// 确保图标目录存在
if (!fs.existsSync(iconsDir)) {
  fs.mkdirSync(iconsDir, { recursive: true });
}

// 写入图标文件
fs.writeFileSync(path.join(iconsDir, 'icon16.png'), Buffer.from(icon16Base64, 'base64'));
fs.writeFileSync(path.join(iconsDir, 'icon48.png'), Buffer.from(icon48Base64, 'base64'));
fs.writeFileSync(path.join(iconsDir, 'icon128.png'), Buffer.from(icon128Base64, 'base64'));

console.log('图标文件已生成！');
console.log('  - icon16.png');
console.log('  - icon48.png');
console.log('  - icon128.png');
